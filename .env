# =============================================================================
# ERIU-BACKEND DOCKER COMPOSE CONFIGURATION
# =============================================================================
# This file is read by Docker Compose for variable interpolation at command
# execution time. Symfony also reads this file plus environment-specific .env
# files (.env.staging, .env.prod, etc.) at PHP runtime inside the container.
#
# NEVER commit secrets here. Use .env.local or .env.*.local for passwords,
# API keys and other sensitive values. Those files must be in .gitignore.
# =============================================================================

COMPOSE_ENV_FILES=.env,.env.local

# --- Docker / Environment Configuration ---

COMPOSE_PROFILES=dev
APP_ENV=dev
APP_DEBUG=1


# --- FrankenPHP / Caddy ---

SERVER_NAME=localhost
HTTP_PORT=80
HTTPS_PORT=443
FRANKENPHP_CONFIG=


# --- MySQL 9.6 (Innovation Release) ---
# The next LTS will be 9.7. Using 9.6 puts the project on the newest major
# release line for a clean start. Update to 9.7 when it reaches GA.
#
# IMPORTANT: MySQL 9.x removed --default-authentication-plugin and the
# mysql_native_password plugin entirely. All accounts must use
# caching_sha2_password (the default). Passwords belong in .env.local.

MYSQL_VERSION=9.6
MYSQL_PORT=3306
MYSQL_DATABASE=eriu
MYSQL_USER=eriu
# MYSQL_PASSWORD=         -> set in .env.local
# MYSQL_ROOT_PASSWORD=    -> set in .env.local


# --- Redis ---

REDIS_VERSION=8.4-alpine
REDIS_PORT=6379
REDIS_MAXMEMORY=256mb


# --- Gotenberg ---

GOTENBERG_VERSION=8
GOTENBERG_PORT=3000
GOTENBERG_TIMEOUT=60s
GOTENBERG_LOG_LEVEL=info


# --- Mailpit ---

MAILPIT_VERSION=v1.29
MAILPIT_UI_PORT=8025
MAILPIT_SMTP_PORT=1025
MAILPIT_MAX_MESSAGES=500


# --- Xdebug ---

XDEBUG_MODE=off
XDEBUG_SESSION=PHPSTORM


# --- Production / Staging Image ---

DOCKER_REGISTRY=
IMAGE_TAG=latest


# --- Timezone ---

TZ=UTC