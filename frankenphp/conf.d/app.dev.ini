; =============================================================================
; DEVELOPMENT PHP CONFIGURATION - frankenphp/conf.d/app.dev.ini
; Replaces app.ini in the dev Dockerfile stage
; Optimized for debugging, verbose errors, and file change detection
; =============================================================================

[PHP]
; === Memory - Higher for Xdebug and profiling overhead ===
memory_limit = 512M

; === PHP 8.5: No ceiling in development ===
max_memory_limit = -1

; === Execution Limits - Extended for debugging ===
max_execution_time = 300
max_input_time = 300

; === File Uploads - More permissive for testing ===
upload_max_filesize = 128M
post_max_size = 140M
max_file_uploads = 50

; === Error Display - Full visibility in development ===
error_reporting = E_ALL
display_errors = On
display_startup_errors = On

; === Stack Traces ===
; Show all function arguments in traces (disable in prod for security)
zend.exception_ignore_args = Off
; PHP 8.5: Enable backtraces for fatal errors
fatal_error_backtraces = On

; === Information Disclosure - Acceptable in dev ===
expose_php = On

; === Realpath Cache - Shorter TTL for file changes ===
realpath_cache_ttl = 120

; === OPcache Development Settings ===
[opcache]
; Check for file changes on every request
opcache.validate_timestamps = 1
opcache.revalidate_freq = 0

; Preloading typically disabled in dev for easier debugging
; opcache.preload =
; opcache.preload_user =